## Redis数据库知识

1）数据数量和切换

redis默认16个数据库，类似于数组一样，从0开始，分别是db0,db1,db2…db15。默认使用db0。

可以使用select <dbIndex>来切换数据库

```
select db0
```

2）16个数据库采用统一密码管理，也就是设置过一次密码之后，可以使用这个密码进入所有的db库。下述是设置密码指令

```
//查看当前密码情况，如果结果为""，说明无密码
config get requirepass
//设置当前密码
config set requirepass 密码
```



修改密码之后，登陆会有区别，使用下述代码进行登陆即可

```
redis-cli -h 127.0.0.1 -p 6379 -a 密码
```

**注意：此时你是用redis-cli还可以进入redis客户端，但是已经不是之前的redis客户端了**

------

## Redis采用单线程+多路IO复用技术保证线程安全

这句话对于把Netty掌握了同学来说，一点也不陌生，就是单Reactor单线程模型。

**单Reactor单线程模型最大的优点就是线程安全性极高，因为能够保证当时当且仅有一个线程在进行文件的操作。**

一般来说我们要保证高并发下的线程安全问题，都是从三个方面出发的：

即**串行执行——–多线程配合锁机制——-单线程轮训配合多路复用技术**

其中netty就是使用串行执行以及优化的单线程轮训搭配多路复用技术来完成Netty高并发下的线程安全问题。

而Redis采用单线程配合多路复用技术保证线程安全。

------

## Redis可以被用作干什么？

1）通过List列表类型可以实现按时间排序的最新/最旧的N个数据显示功能

2）通过zSet有序集合类型可以实现热门数据排行榜功能

3）通过Set集合可以实现大量重复数据的去重功能

4）利用list列表类型和发布/订阅设计模式可以完成信息队列功能

5）利用key的过期效果可以完成时效性数据的对应操作，比如手机验证码过期

6）利用单线程轮训配合多路复用技术带来的线程安全和redis单条指令一定是原子性的特性，完成秒杀项目的功能。

------

## Redis的优点和缺点

优点：

1）读写性能优异，redis读的速度是110000次/s，写的速度是81000次/s

2）支持数据的持久化，支持AOF和RDB两种持久化策略。

3）数据结构丰富，由于数据结构丰富带来不同功能的实现多样化。

4）支持集群搭建和主从复制，确保redis的高可用性。

5）支持事务，除了本身单条指令是原子性的，还通过事物来保证多条指令执行的原子性

缺点：

1）不易存储大量数据，由于redis真实存储在内存中，所以受到部署机的内存大小限制。

2）由于Redis集群允许短暂的数据不一致行为，当主机宕机前有部分数据指令没有及时传递到从机，切换主机之后就会出现数据不一致的问题。